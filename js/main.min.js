function getLocation() { "geolocation" in navigator ? navigator.geolocation.getCurrentPosition(function (e) { var t = new google.maps.Geocoder, o = new google.maps.LatLng(e.coords.latitude, e.coords.longitude); t.geocode({ latLng: o }, function (e, t) { if (t == google.maps.GeocoderStatus.OK) { var o = e[0].formatted_address; $(".getplace").attr("data-tooltip", o).attr("data-position", "top left"); $(".emojionearea-editor").append("@(" + addLocation + " " + ")"); } }) }) : console.log("Browser doesn't support geolocation!") } $(document).ready(function () { $(".survey_content").hide(), $(".media_content").hide(), $(".emojionearea-editor,.content_input").on("focus", function () { $(".data_segment").addClass("disabled") }).blur(function () { $(".data_segment").removeClass("disabled") }), $(".ui.dropdown").dropdown(), $(".special.cards .image").dimmer({ on: "hover" }), $(".content_input").emojioneArea({ pickerPosition: "right", tonesStyle: "bullet" }), $("time[data-momentjs]").each(function (e, t) { var o = $(t), n = moment(o.text(), "DD.MM.YYYY, h:mm:ss"); o.attr("title", n.format("d MMMM YYYY, dddd - H:mm")).text(n.fromNow()) }), $(".user").popup({ transition: "vertical flip", delay: { show: 10, hide: 10 }, inline: !0 }); var e = $(".ui.toggle.button"); e.state({ text: { inactive: '<i class="large icons"><i class="smile icon"></i><i class="inverted corner add icon"></i></i> Follow', active: '<i class="large icons"><i class="frown icon"></i><i class="inverted corner close icon"></i></i> Unfollow' } }), $(".act_btn").popup({ transition: "vertical flip", delay: { show: 10, hide: 10 }, inline: !0 }), $("body").niceScroll({ cursorcolor: "#ddd", cursorwidth: 5, cursorborderradius: 0, cursorborder: 0, scrollspeed: 50, autohidemode: !0, zindex: 9999999, spacebarenabled: !1 }), $(".action_buttons").on("click", ".act_btn", function () { $(this).addClass("blue").siblings().removeClass("blue").addClass("default") }) }), $(".getplace").on("click", function () { $(".share_btn").transition("pulse"), $(".share_btn").removeClass("disabled"), getLocation() }); var a = $(".ui.follow.button"); a.state({ text: { inactive: "Follow", active: "Following" } }), $(".follow").on("click", function () { $(this).addClass("loading").delay(500).queue(function () { $(this).removeClass("loading").dequeue() }) }).state({ text: { inactive: "Follow", active: "Following" } }), $(".loadmore").on("click", function () { $(this).addClass("loading").delay(500).queue(function () { $(this).removeClass("loading").dequeue() }) }), $(".survey_btn").on("click", function () { $(".survey_content").show(), $(this).addClass("disabled"), $(".emojionearea-editor").attr("placeholder", "Ask a Quesiton?") }); var counter = 1; $(".add_option").click(function () { if (counter > 2) return alert("Only 2 textboxes allow"), !1; 2 == counter && $(".add_option").addClass("disabled"); var e = $(document.createElement("div")).attr("id", "TextBoxDiv" + counter); e.after().html('<div class="ui fluid action input Textbox #' + counter + '"><input type="text" placeholder="Option ' + (counter + 2) + '" name="textbox' + counter + '" id="textbox' + counter + '" value=""/><button class="ui teal icon button del_btn"><i class="minus icon"></i></button></div>'), e.appendTo(".input_content"), counter++, $(".del_btn").on("click", function () { return 1 == counter ? !1 : (3 == counter && $(".add_option").removeClass("disabled"), counter--, void $("#TextBoxDiv" + counter).remove()) }) }), $(".input_file").change(function () { 0 === $(".input_file").get(0).files.length || $(".media_content").show() }), $(function () { var e = function (e, t) { if (e.files) { var o = e.files.length; for (i = 0; i < o; i++) { var n = new FileReader; n.onload = function (e) { $($.parseHTML('<img class="media_img">')).attr("src", e.target.result).appendTo(t) }, n.readAsDataURL(e.files[i]) } } }; $(".input_file").on("change", function () { e(this, "#upimg") }) });